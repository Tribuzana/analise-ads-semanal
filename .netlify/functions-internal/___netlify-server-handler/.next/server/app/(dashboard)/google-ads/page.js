(()=>{var e={};e.id=342,e.ids=[342],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17774:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(68746),a(85719),a(35866),a(11506);var t=a(23191),i=a(88716),r=a(37922),n=a.n(r),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(s,o);let d=["",{children:["(dashboard)",{children:["google-ads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,68746)),"C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\(dashboard)\\google-ads\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,85719)),"C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\(dashboard)\\google-ads\\page.tsx"],u="/(dashboard)/google-ads/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(dashboard)/google-ads/page",pathname:"/google-ads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41078:(e,s,a)=>{Promise.resolve().then(a.bind(a,14681))},14681:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var t=a(10326),i=a(17577),r=a(91806),n=a(39797),l=a(93653),o=a(58831),d=a(71821),c=a(17069),u=a(57671),m=a(53468),p=a(21066),x=a(12714);function g({campaigns:e,comparisonCampaigns:s}){let a=e.reduce((e,s)=>e+s.spend,0),i=e.reduce((e,s)=>e+s.revenue,0),r=e.reduce((e,s)=>e+s.conversions,0),n=e.reduce((e,s)=>e+s.clicks,0),g=e.reduce((e,s)=>e+s.impressions,0),h=a>0?i/a:0,v=r>0?a/r:0,j=n>0?a/n:0,f=g>0?n/g*100:0,b=n>0?r/n*100:0,N=s?.reduce((e,s)=>e+s.spend,0)||0,C=s?.reduce((e,s)=>e+s.revenue,0)||0,y=s?.reduce((e,s)=>e+s.conversions,0)||0,A=s?.reduce((e,s)=>e+s.clicks,0)||0,P=s?.reduce((e,s)=>e+s.impressions,0)||0,D=A>0?y/A*100:0,_=(e,s)=>0===s?e>0?100:0:(e-s)/s*100,G=s&&s.length>0;return(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsx(l.i,{title:"Investimento",value:(0,o.xG)(a),icon:t.jsx(d.Z,{className:"h-4 w-4"}),subtitle:`${e.length} campanhas ativas`,change:G?_(a,N):void 0,compareValue:G?(0,o.xG)(N):void 0}),t.jsx(l.i,{title:"Receita",value:(0,o.xG)(i),icon:t.jsx(c.Z,{className:"h-4 w-4"}),subtitle:`ROAS: ${h.toFixed(2)}`,change:G?_(i,C):void 0,compareValue:G?(0,o.xG)(C):void 0}),t.jsx(l.i,{title:"Convers\xf5es",value:(0,o.uf)(r),icon:t.jsx(u.Z,{className:"h-4 w-4"}),subtitle:`CPA: ${(0,o.xG)(v)}`,change:G?_(r,y):void 0,compareValue:G?(0,o.uf)(y):void 0}),t.jsx(l.i,{title:"Taxa de Convers\xe3o",value:(0,o.rl)(b),icon:t.jsx(m.Z,{className:"h-4 w-4"}),subtitle:`${(0,o.uf)(n)} cliques`,change:G?_(b,D):void 0,compareValue:G?(0,o.rl)(D):void 0}),t.jsx(l.i,{title:"Cliques",value:(0,o.uf)(n),icon:t.jsx(p.Z,{className:"h-4 w-4"}),subtitle:`CPC: ${(0,o.xG)(j)}`,change:G?_(n,A):void 0,compareValue:G?(0,o.uf)(A):void 0}),t.jsx(l.i,{title:"Impress\xf5es",value:(0,o.uf)(g),icon:t.jsx(x.Z,{className:"h-4 w-4"}),subtitle:`CTR: ${(0,o.rl)(f)}`,change:G?_(g,P):void 0,compareValue:G?(0,o.uf)(P):void 0})]})}var h=a(53364),v=a(94062),j=a(2426),f=a(58431),b=a(77382),N=a(65304),C=a(54014);function y(){let{data:e,loading:s,error:a}=function(){(0,r.j)();let[e,s]=(0,i.useState)(null),[a,t]=(0,i.useState)(!0),[n,l]=(0,i.useState)(null);return{data:e,loading:a,error:n}}(),l=(0,r.j)(),[o,d]=(0,i.useState)("active"),[c,u]=(0,i.useState)(null),[m,p]=(0,i.useState)(null),[x,y]=(0,i.useState)(!1),[A,P]=(0,i.useState)(!1),D=(0,i.useMemo)(()=>{if(!e?.campaigns)return[];if("all"===o)return e.campaigns;let s={active:["ACTIVE","ENABLED"],paused:["PAUSED"]}[o]||[];return e.campaigns.filter(e=>{if(!e.campaign_status)return!1;let a=e.campaign_status.toUpperCase();return s.includes(a)})},[e?.campaigns,o]),_=async e=>{u(e),y(!0),P(!0);try{let s=await (0,n.v)(e.campaign_id,e.platform,{selectedHotels:l.selectedHotels,startDate:l.startDate,endDate:l.endDate,selectedCidades:l.selectedCidades,selectedEstados:l.selectedEstados,compareYearAgo:l.compareYearAgo,selectedObjectives:l.selectedObjectives,selectedResultTypes:l.selectedResultTypes});p(s)}catch(e){console.error("Erro ao buscar m\xe9tricas do per\xedodo:",e),p(null)}finally{P(!1)}};return s?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(C.Z,{className:"h-8 w-8 text-blue-600"}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Google Ads"}),t.jsx("p",{className:"text-muted-foreground",children:"An\xe1lise detalhada das campanhas do Google Ads"})]})]}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((e,s)=>t.jsx(N.O,{className:"h-[140px]"},s))}),t.jsx(N.O,{className:"h-[400px]"}),t.jsx(N.O,{className:"h-[400px]"})]}):a?t.jsx("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-lg font-medium text-red-600",children:"Erro ao carregar dados"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground mt-4 p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Dica:"})," Verifique:"]}),(0,t.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[t.jsx("li",{children:"Se voc\xea est\xe1 autenticado"}),t.jsx("li",{children:"Se as datas dos filtros est\xe3o definidas"}),t.jsx("li",{children:"O console do navegador para mais detalhes"})]})]})]})}):e?(0,t.jsxs)("div",{className:"space-y-10 pb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(C.Z,{className:"h-8 w-8 text-blue-600"}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Google Ads"}),t.jsx("p",{className:"text-muted-foreground",children:"An\xe1lise detalhada das campanhas do Google Ads"})]})]}),t.jsx("div",{className:"py-6",children:t.jsx(g,{campaigns:e.campaigns,comparisonCampaigns:e.comparison?.campaigns})}),e.objectiveAnalysis.length>0&&(0,t.jsxs)("div",{className:"py-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-6",children:"An\xe1lise por Objetivo"}),t.jsx(b.D,{data:e.objectiveAnalysis})]}),t.jsx("div",{className:"py-6",children:t.jsx(v.G,{campaigns:e.campaigns,previousCampaigns:e.comparison?.campaigns||[],onCampaignClick:_})}),(0,t.jsxs)("div",{className:"py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Todas as Campanhas"}),t.jsx(f.a,{value:o,onValueChange:d})]}),t.jsx(h.j,{campaigns:D,onCampaignClick:_})]}),t.jsx(j.J,{campaign:c,periodMetrics:m,open:x,onOpenChange:y})]}):null}},68746:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`C:\Users\atend\OneDrive\Documents\Cursor Tribuzana\marketing-analytics\app\(dashboard)\google-ads\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[276,992,162,808,861,138,220,347,919,993],()=>a(17774));module.exports=t})();