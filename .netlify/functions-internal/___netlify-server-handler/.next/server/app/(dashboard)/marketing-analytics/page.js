(()=>{var e={};e.id=482,e.ids=[482],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57331:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>d}),t(72128),t(85719),t(35866),t(11506);var a=t(23191),r=t(88716),n=t(37922),i=t.n(n),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["(dashboard)",{children:["marketing-analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,72128)),"C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\(dashboard)\\marketing-analytics\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85719)),"C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\(dashboard)\\marketing-analytics\\page.tsx"],u="/(dashboard)/marketing-analytics/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/marketing-analytics/page",pathname:"/marketing-analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},99810:(e,s,t)=>{Promise.resolve().then(t.bind(t,21736))},21736:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(10326),r=t(84725),n=t(93653),i=t(58831),l=t(53468),c=t(71821),d=t(17069),o=t(57671);function u({data:e}){let s=e.campaigns.reduce((e,s)=>e+s.spend,0),t=e.campaigns.reduce((e,s)=>e+s.revenue,0),r=e.campaigns.reduce((e,s)=>e+s.conversions,0),u=s>0?t/s:0,m=r>0?s/r:0,p=e.campaigns.reduce((e,s)=>e+s.clicks,0),x=p>0?s/p:0,h=e.comparison?.campaigns||[],j=h.reduce((e,s)=>e+s.spend,0),g=h.reduce((e,s)=>e+s.revenue,0),f=h.reduce((e,s)=>e+s.conversions,0),v=j>0?g/j:0,y=f>0?j/f:0,N=h.reduce((e,s)=>e+s.clicks,0),b=N>0?j/N:0,k=(e,s)=>0===s?e>0?100:0:(e-s)/s*100,w=e.comparison&&h.length>0;return(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(n.i,{title:"Total de Campanhas",value:e.campaigns.length,icon:a.jsx(l.Z,{className:"h-4 w-4"}),change:w?k(e.campaigns.length,h.length):void 0,compareValue:w?h.length:void 0}),a.jsx(n.i,{title:"Investimento Total",value:(0,i.xG)(s),icon:a.jsx(c.Z,{className:"h-4 w-4"}),change:w?k(s,j):void 0,compareValue:w?(0,i.xG)(j):void 0}),a.jsx(n.i,{title:"Receita Total",value:(0,i.xG)(t),icon:a.jsx(d.Z,{className:"h-4 w-4"}),change:w?k(t,g):void 0,compareValue:w?(0,i.xG)(g):void 0}),a.jsx(n.i,{title:"ROAS M\xe9dio",value:u.toFixed(2),icon:a.jsx(d.Z,{className:"h-4 w-4"}),change:w?k(u,v):void 0,compareValue:w?v.toFixed(2):void 0}),a.jsx(n.i,{title:"CPA M\xe9dio",value:(0,i.xG)(m),icon:a.jsx(c.Z,{className:"h-4 w-4"}),change:w?k(m,y):void 0,compareValue:w?(0,i.xG)(y):void 0}),a.jsx(n.i,{title:"CPC M\xe9dio",value:(0,i.xG)(x),icon:a.jsx(c.Z,{className:"h-4 w-4"}),change:w?k(x,b):void 0,compareValue:w?(0,i.xG)(b):void 0}),a.jsx(n.i,{title:"Total de Convers\xf5es",value:(0,i.uf)(r),icon:a.jsx(o.Z,{className:"h-4 w-4"}),change:w?k(r,f):void 0,compareValue:w?(0,i.uf)(f):void 0})]})}var m=t(15940),p=t(567);function x({campaigns:e}){let s=e=>"Google Ads"===e||"Google"===e?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";return a.jsx("div",{className:"rounded-md border",children:(0,a.jsxs)(m.iA,{children:[a.jsx(m.Rn,{children:"Top 10 campanhas por ROAS"}),a.jsx(m.xD,{children:(0,a.jsxs)(m.SC,{children:[a.jsx(m.ss,{children:"Campanha"}),a.jsx(m.ss,{children:"Plataforma"}),a.jsx(m.ss,{children:"Cliente"}),a.jsx(m.ss,{className:"text-right",children:"Investimento"}),a.jsx(m.ss,{className:"text-right",children:"Receita"}),a.jsx(m.ss,{className:"text-right",children:"ROAS"}),a.jsx(m.ss,{className:"text-right",children:"Convers\xf5es"}),a.jsx(m.ss,{className:"text-right",children:"CPA"})]})}),a.jsx(m.RM,{children:0===e.length?a.jsx(m.SC,{children:a.jsx(m.pj,{colSpan:8,className:"text-center text-muted-foreground",children:"Nenhuma campanha encontrada"})}):e.map(e=>(0,a.jsxs)(m.SC,{children:[a.jsx(m.pj,{className:"font-medium max-w-[300px] truncate",children:e.campaign_name||"Sem nome"}),a.jsx(m.pj,{children:a.jsx(p.C,{variant:"secondary",className:s(e.platform),children:"Google"===e.platform?"Google Ads":"Meta"===e.platform?"Meta Ads":e.platform})}),a.jsx(m.pj,{children:e.client}),a.jsx(m.pj,{className:"text-right",children:(0,i.xG)(e.spend)}),a.jsx(m.pj,{className:"text-right",children:(0,i.xG)(e.revenue)}),a.jsx(m.pj,{className:"text-right font-bold",children:e.roas.toFixed(2)}),a.jsx(m.pj,{className:"text-right",children:(0,i.uf)(e.conversions)}),a.jsx(m.pj,{className:"text-right",children:(0,i.xG)(e.cpa)})]},`${e.campaign_id}_${e.platform}`))})]})})}var h=t(94062),j=t(77382),g=t(33071);function f({campaigns:e}){let s=e.filter(e=>"Google Ads"===e.platform||"Google"===e.platform),t=e.filter(e=>"Meta Ads"===e.platform||"Meta"===e.platform),r=s.reduce((e,s)=>e+s.spend,0),n=t.reduce((e,s)=>e+s.spend,0),l=s.reduce((e,s)=>e+s.revenue,0),c=t.reduce((e,s)=>e+s.revenue,0),d=s.reduce((e,s)=>e+s.conversions,0),o=t.reduce((e,s)=>e+s.conversions,0),u=r>0?l/r:0,m=n>0?c/n:0,p=r+n;return(0,a.jsxs)(g.Zb,{children:[a.jsx(g.Ol,{children:a.jsx(g.ll,{children:"Compara\xe7\xe3o entre Plataformas"})}),(0,a.jsxs)(g.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Google Ads"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[s.length," campanhas"]})]}),a.jsx("div",{className:"h-4 w-full rounded-full bg-secondary/20",children:a.jsx("div",{className:"h-4 rounded-full bg-blue-500",style:{width:`${p>0?r/p*100:0}%`}})}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Investimento"}),a.jsx("p",{className:"font-semibold",children:(0,i.xG)(r)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Receita"}),a.jsx("p",{className:"font-semibold",children:(0,i.xG)(l)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"ROAS"}),a.jsx("p",{className:"font-semibold",children:u.toFixed(2)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Convers\xf5es"}),a.jsx("p",{className:"font-semibold",children:(0,i.uf)(d)})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Meta Ads"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[t.length," campanhas"]})]}),a.jsx("div",{className:"h-4 w-full rounded-full bg-secondary/20",children:a.jsx("div",{className:"h-4 rounded-full bg-purple-500",style:{width:`${p>0?n/p*100:0}%`}})}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Investimento"}),a.jsx("p",{className:"font-semibold",children:(0,i.xG)(n)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Receita"}),a.jsx("p",{className:"font-semibold",children:(0,i.xG)(c)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"ROAS"}),a.jsx("p",{className:"font-semibold",children:m.toFixed(2)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Convers\xf5es"}),a.jsx("p",{className:"font-semibold",children:(0,i.uf)(o)})]})]})]})]})]})}var v=t(65304);function y(){let{data:e,loading:s,error:t}=(0,r.j)();return s?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Marketing Analytics"}),a.jsx("p",{className:"text-muted-foreground",children:"An\xe1lise consolidada de todas as plataformas de an\xfancios"})]}),a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(7)].map((e,s)=>a.jsx(v.O,{className:"h-[140px]"},s))}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx(v.O,{className:"h-[400px]"}),a.jsx(v.O,{className:"h-[400px]"})]}),a.jsx(v.O,{className:"h-[400px]"})]}):t?a.jsx("div",{className:"flex h-full items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-lg font-medium text-red-600",children:"Erro ao carregar dados"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-4 p-4 bg-muted rounded-lg",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Dica:"})," Verifique:"]}),(0,a.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Se voc\xea est\xe1 autenticado"}),a.jsx("li",{children:"Se as datas dos filtros est\xe3o definidas"}),a.jsx("li",{children:"O console do navegador para mais detalhes"})]})]})]})}):e?(0,a.jsxs)("div",{className:"space-y-10 pb-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Marketing Analytics"}),a.jsx("p",{className:"text-muted-foreground",children:"An\xe1lise consolidada de todas as plataformas de an\xfancios"})]}),a.jsx("div",{className:"py-6",children:a.jsx(u,{data:e})}),a.jsx("div",{className:"py-6",children:(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx(j.D,{data:e.objectiveAnalysis}),a.jsx(f,{campaigns:e.campaigns})]})}),(0,a.jsxs)("div",{className:"py-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Top Campanhas"}),a.jsx(x,{campaigns:e.topCampaigns})]}),a.jsx("div",{className:"py-6",children:a.jsx(h.G,{campaigns:e.campaigns,previousCampaigns:e.comparison?.campaigns||[]})})]}):null}},84725:(e,s,t)=>{"use strict";t.d(s,{j:()=>n});var a=t(17577),r=t(91806);function n(e){(0,r.j)();let[s,t]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null);return{data:s,loading:n,error:l}}t(39797)},25696:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},12969:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},79256:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},71821:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},11019:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},57671:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},53468:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},72128:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\atend\OneDrive\Documents\Cursor Tribuzana\marketing-analytics\app\(dashboard)\marketing-analytics\page.tsx#default`)},60371:(e,s,t)=>{"use strict";t.d(s,{fC:()=>k,bU:()=>w});var a=t(17577),r=t(82561),n=t(48051),i=t(10326),l=t(52067),c=t(53405),d=t(2566);t(60962);var o=Symbol("radix.slottable");function u(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}var m=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=function(e){let s=function(e){let s=a.forwardRef((e,s)=>{let{children:t,...r}=e;if(a.isValidElement(t)){let e,i;let l=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref,c=function(e,s){let t={...s};for(let a in s){let r=e[a],n=s[a];/^on[A-Z]/.test(a)?r&&n?t[a]=(...e)=>{let s=n(...e);return r(...e),s}:r&&(t[a]=r):"style"===a?t[a]={...r,...n}:"className"===a&&(t[a]=[r,n].filter(Boolean).join(" "))}return{...e,...t}}(r,t.props);return t.type!==a.Fragment&&(c.ref=s?(0,n.F)(s,l):l),a.cloneElement(t,c)}return a.Children.count(t)>1?a.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}(e),t=a.forwardRef((e,t)=>{let{children:r,...n}=e,l=a.Children.toArray(r),c=l.find(u);if(c){let e=c.props.children,r=l.map(s=>s!==c?s:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(s,{...n,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,i.jsx)(s,{...n,ref:t,children:r})});return t.displayName=`${e}.Slot`,t}(`Primitive.${s}`),r=a.forwardRef((e,a)=>{let{asChild:r,...n}=e,l=r?t:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...n,ref:a})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{}),p="Switch",[x,h]=function(e,s=[]){let t=[],r=()=>{let s=t.map(e=>a.createContext(e));return function(t){let r=t?.[e]||s;return a.useMemo(()=>({[`__scope${e}`]:{...t,[e]:r}}),[t,r])}};return r.scopeName=e,[function(s,r){let n=a.createContext(r),l=t.length;t=[...t,r];let c=s=>{let{scope:t,children:r,...c}=s,d=t?.[e]?.[l]||n,o=a.useMemo(()=>c,Object.values(c));return(0,i.jsx)(d.Provider,{value:o,children:r})};return c.displayName=s+"Provider",[c,function(t,i){let c=i?.[e]?.[l]||n,d=a.useContext(c);if(d)return d;if(void 0!==r)return r;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=t.reduce((s,{useScope:t,scopeName:a})=>{let r=t(e)[`__scope${a}`];return{...s,...r}},{});return a.useMemo(()=>({[`__scope${s.scopeName}`]:r}),[r])}};return t.scopeName=s.scopeName,t}(r,...s)]}(p),[j,g]=x(p),f=a.forwardRef((e,s)=>{let{__scopeSwitch:t,name:c,checked:d,defaultChecked:o,required:u,disabled:x,value:h="on",onCheckedChange:g,form:f,...v}=e,[y,k]=a.useState(null),w=(0,n.e)(s,e=>k(e)),C=a.useRef(!1),P=!y||f||!!y.closest("form"),[S,A]=(0,l.T)({prop:d,defaultProp:o??!1,onChange:g,caller:p});return(0,i.jsxs)(j,{scope:t,checked:S,disabled:x,children:[(0,i.jsx)(m.button,{type:"button",role:"switch","aria-checked":S,"aria-required":u,"data-state":b(S),"data-disabled":x?"":void 0,disabled:x,value:h,...v,ref:w,onClick:(0,r.Mj)(e.onClick,e=>{A(e=>!e),P&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),P&&(0,i.jsx)(N,{control:y,bubbles:!C.current,name:c,value:h,checked:S,required:u,disabled:x,form:f,style:{transform:"translateX(-100%)"}})]})});f.displayName=p;var v="SwitchThumb",y=a.forwardRef((e,s)=>{let{__scopeSwitch:t,...a}=e,r=g(v,t);return(0,i.jsx)(m.span,{"data-state":b(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:s})});y.displayName=v;var N=a.forwardRef(({__scopeSwitch:e,control:s,checked:t,bubbles:r=!0,...l},o)=>{let u=a.useRef(null),m=(0,n.e)(u,o),p=(0,c.D)(t),x=(0,d.t)(s);return a.useEffect(()=>{let e=u.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==t&&s){let a=new Event("click",{bubbles:r});s.call(e,t),e.dispatchEvent(a)}},[p,t,r]),(0,i.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...l,tabIndex:-1,ref:m,style:{...l.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}N.displayName="SwitchBubbleInput";var k=f,w=y},63443:(e,s,t)=>{"use strict";t.d(s,{v:()=>n});var a=t(67921),r=t(81507);function n(e,s){let t=(0,r.j)(),n=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=(0,a.Q)(e),l=i.getDay();return i.setDate(i.getDate()+((l<n?-7:0)+6-(l-n))),i.setHours(23,59,59,999),i}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,992,162,808,220,347,919],()=>t(57331));module.exports=a})();