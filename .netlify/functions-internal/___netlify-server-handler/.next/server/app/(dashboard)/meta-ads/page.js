(()=>{var e={};e.id=716,e.ids=[716],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},72711:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>c}),a(25832),a(85719),a(35866),a(11506);var t=a(23191),i=a(88716),r=a(37922),n=a.n(r),l=a(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(s,d);let c=["",{children:["(dashboard)",{children:["meta-ads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,25832)),"C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\(dashboard)\\meta-ads\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,85719)),"C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\atend\\OneDrive\\Documents\\Cursor Tribuzana\\marketing-analytics\\app\\(dashboard)\\meta-ads\\page.tsx"],u="/(dashboard)/meta-ads/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(dashboard)/meta-ads/page",pathname:"/meta-ads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},86946:(e,s,a)=>{Promise.resolve().then(a.bind(a,58067))},58067:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var t=a(10326),i=a(17577),r=a(91806),n=a(39797),l=a(93653),d=a(58831),c=a(71821),o=a(17069),u=a(57671),m=a(53468),p=a(21066),x=a(12714);function h({campaigns:e,comparisonCampaigns:s}){let a=e.reduce((e,s)=>e+s.spend,0),i=e.reduce((e,s)=>e+s.revenue,0),r=e.reduce((e,s)=>e+s.conversions,0),n=e.reduce((e,s)=>e+s.clicks,0),h=e.reduce((e,s)=>e+s.impressions,0),g=a>0?i/a:0,v=r>0?a/r:0,j=n>0?a/n:0,f=h>0?n/h*100:0,b=n>0?r/n*100:0,N=s?.reduce((e,s)=>e+s.spend,0)||0,C=s?.reduce((e,s)=>e+s.revenue,0)||0,y=s?.reduce((e,s)=>e+s.conversions,0)||0,A=s?.reduce((e,s)=>e+s.clicks,0)||0,P=s?.reduce((e,s)=>e+s.impressions,0)||0,D=N>0?C/N:0,_=y>0?N/y:0,O=A>0?y/A*100:0,k=(e,s)=>0===s?e>0?100:0:(e-s)/s*100,S=s&&s.length>0;return(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(l.i,{title:"Investimento",value:(0,d.xG)(a),icon:t.jsx(c.Z,{className:"h-4 w-4"}),subtitle:`${e.length} campanhas ativas`,change:S?k(a,N):void 0,compareValue:S?(0,d.xG)(N):void 0}),t.jsx(l.i,{title:"Receita",value:(0,d.xG)(i),icon:t.jsx(o.Z,{className:"h-4 w-4"}),subtitle:`ROAS: ${g.toFixed(2)}`,change:S?k(i,C):void 0,compareValue:S?(0,d.xG)(C):void 0}),t.jsx(l.i,{title:"Convers\xf5es",value:(0,d.uf)(r),icon:t.jsx(u.Z,{className:"h-4 w-4"}),subtitle:`CPA: ${(0,d.xG)(v)}`,change:S?k(r,y):void 0,compareValue:S?(0,d.uf)(y):void 0}),t.jsx(l.i,{title:"Taxa de Convers\xe3o",value:(0,d.rl)(b),icon:t.jsx(m.Z,{className:"h-4 w-4"}),subtitle:`${(0,d.uf)(n)} cliques`,change:S?k(b,O):void 0,compareValue:S?(0,d.rl)(O):void 0}),t.jsx(l.i,{title:"Cliques",value:(0,d.uf)(n),icon:t.jsx(p.Z,{className:"h-4 w-4"}),subtitle:`CPC: ${(0,d.xG)(j)}`,change:S?k(n,A):void 0,compareValue:S?(0,d.uf)(A):void 0}),t.jsx(l.i,{title:"Impress\xf5es",value:(0,d.uf)(h),icon:t.jsx(x.Z,{className:"h-4 w-4"}),subtitle:`CTR: ${(0,d.rl)(f)}`,change:S?k(h,P):void 0,compareValue:S?(0,d.uf)(P):void 0}),t.jsx(l.i,{title:"ROAS",value:g.toFixed(2),change:S?k(g,D):void 0,compareValue:S?D.toFixed(2):void 0}),t.jsx(l.i,{title:"CPA",value:(0,d.xG)(v),change:S?k(v,_):void 0,compareValue:S?(0,d.xG)(_):void 0})]})}var g=a(53364),v=a(94062),j=a(2426),f=a(58431),b=a(77382),N=a(65304),C=a(71806);function y(){let{data:e,loading:s,error:a}=function(){(0,r.j)();let[e,s]=(0,i.useState)(null),[a,t]=(0,i.useState)(!0),[n,l]=(0,i.useState)(null);return{data:e,loading:a,error:n}}(),l=(0,r.j)(),[d,c]=(0,i.useState)("active"),[o,u]=(0,i.useState)(null),[m,p]=(0,i.useState)(null),[x,y]=(0,i.useState)(!1),[A,P]=(0,i.useState)(!1),D=(0,i.useMemo)(()=>{if(!e?.campaigns)return[];if("all"===d)return e.campaigns;let s={active:["ACTIVE","ENABLED"],paused:["PAUSED"]}[d]||[];return e.campaigns.filter(e=>{if(!e.campaign_status)return!1;let a=e.campaign_status.toUpperCase();return s.includes(a)})},[e?.campaigns,d]),_=async e=>{u(e),y(!0),P(!0);try{let s=await (0,n.v)(e.campaign_id,e.platform,{selectedHotels:l.selectedHotels,startDate:l.startDate,endDate:l.endDate,selectedCidades:l.selectedCidades,selectedEstados:l.selectedEstados,compareYearAgo:l.compareYearAgo,selectedObjectives:l.selectedObjectives,selectedResultTypes:l.selectedResultTypes});p(s)}catch(e){console.error("Erro ao buscar m\xe9tricas do per\xedodo:",e),p(null)}finally{P(!1)}};return s?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(C.Z,{className:"h-8 w-8 text-purple-600"}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Meta Ads"}),t.jsx("p",{className:"text-muted-foreground",children:"An\xe1lise detalhada das campanhas do Facebook e Instagram"})]})]}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(8)].map((e,s)=>t.jsx(N.O,{className:"h-[140px]"},s))}),t.jsx(N.O,{className:"h-[400px]"}),t.jsx(N.O,{className:"h-[400px]"})]}):a?t.jsx("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-lg font-medium text-red-600",children:"Erro ao carregar dados"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground mt-4 p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Dica:"})," Verifique:"]}),(0,t.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[t.jsx("li",{children:"Se voc\xea est\xe1 autenticado"}),t.jsx("li",{children:"Se as datas dos filtros est\xe3o definidas"}),t.jsx("li",{children:"O console do navegador para mais detalhes"})]})]})]})}):e?(0,t.jsxs)("div",{className:"space-y-10 pb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(C.Z,{className:"h-8 w-8 text-purple-600"}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Meta Ads"}),t.jsx("p",{className:"text-muted-foreground",children:"An\xe1lise detalhada das campanhas do Facebook e Instagram"})]})]}),t.jsx("div",{className:"py-6",children:t.jsx(h,{campaigns:e.campaigns,comparisonCampaigns:e.comparison?.campaigns})}),e.objectiveAnalysis.length>0&&(0,t.jsxs)("div",{className:"py-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-6",children:"An\xe1lise por Objetivo"}),t.jsx(b.D,{data:e.objectiveAnalysis})]}),t.jsx("div",{className:"py-6",children:t.jsx(v.G,{campaigns:e.campaigns,previousCampaigns:e.comparison?.campaigns||[],onCampaignClick:_})}),(0,t.jsxs)("div",{className:"py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Todas as Campanhas"}),t.jsx(f.a,{value:d,onValueChange:c})]}),t.jsx(g.j,{campaigns:D,onCampaignClick:_})]}),t.jsx(j.J,{campaign:o,periodMetrics:m,open:x,onOpenChange:y})]}):null}},25832:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`C:\Users\atend\OneDrive\Documents\Cursor Tribuzana\marketing-analytics\app\(dashboard)\meta-ads\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[276,992,162,808,861,138,220,347,919,993],()=>a(72711));module.exports=t})();