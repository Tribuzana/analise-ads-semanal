exports.id=919,exports.ids=[919],exports.modules={10306:(e,a,s)=>{let r={"9d383f78b3294f7a2159cfe822dd240f3d2d2518":()=>Promise.resolve().then(s.bind(s,90811)).then(e=>e.getCampaignPeriodMetrics),ab8d8d4fc9c8d183fd0cec25e567119dbe4ba194:()=>Promise.resolve().then(s.bind(s,90811)).then(e=>e.getMarketingAnalytics),"4fb7291308caa69a64f14ea764e4da7ccd3eddaa":()=>Promise.resolve().then(s.bind(s,35629)).then(e=>e.generateAlerts)};async function t(e,...a){return(await r[e]()).apply(null,a)}e.exports={"9d383f78b3294f7a2159cfe822dd240f3d2d2518":t.bind(null,"9d383f78b3294f7a2159cfe822dd240f3d2d2518"),ab8d8d4fc9c8d183fd0cec25e567119dbe4ba194:t.bind(null,"ab8d8d4fc9c8d183fd0cec25e567119dbe4ba194"),"4fb7291308caa69a64f14ea764e4da7ccd3eddaa":t.bind(null,"4fb7291308caa69a64f14ea764e4da7ccd3eddaa")}},94062:(e,a,s)=>{"use strict";s.d(a,{G:()=>p});var r=s(10326),t=s(17577),n=s(15940),c=s(567),i=s(33261),l=s(31048),d=s(58831),o=s(11105),m=s(12969),x=s(79256),h=s(25696);function p({campaigns:e,previousCampaigns:a,onCampaignClick:s}){let[p,j]=(0,t.useState)(!0),[f,u]=(0,t.useState)(null),[g,b]=(0,t.useState)("desc"),v=(0,t.useMemo)(()=>{let e=new Map;return a.forEach(a=>{let s=`${a.campaign_id}_${a.platform}`;e.set(s,a)}),e},[a]),N=(0,t.useMemo)(()=>e.map(e=>{let a=`${e.campaign_id}_${e.platform}`,s=function(e,a){if(!a)return{spend:0,revenue:0,conversions:0,cpa:0,roas:0};let s=(e,a)=>0===a?e>0?100:0:(e-a)/a*100;return{spend:s(e.spend,a.spend),revenue:s(e.revenue,a.revenue),conversions:s(e.conversions,a.conversions),cpa:s(e.cpa,a.cpa),roas:s(e.roas,a.roas)}}(e,v.get(a));return{...e,variation:s}}),[e,v]),y=(0,t.useMemo)(()=>p?N.filter(e=>{if(!e.campaign_status)return!1;let a=e.campaign_status.toUpperCase();return"ACTIVE"===a||"ENABLED"===a}):N,[N,p]),w=(0,t.useMemo)(()=>f?[...y].sort((e,a)=>{let s,r;switch(f){case"campaign_name":s=e.campaign_name||"",r=a.campaign_name||"";break;case"campaign_objective":s=e.campaign_objective||"",r=a.campaign_objective||"";break;case"spend":s=e.spend,r=a.spend;break;case"revenue":s=e.revenue,r=a.revenue;break;case"roas":s=e.roas,r=a.roas;break;case"conversions":s=e.conversions,r=a.conversions;break;case"cpa":s=e.cpa,r=a.cpa;break;default:return 0}return"string"==typeof s&&"string"==typeof r?"asc"===g?s.localeCompare(r):r.localeCompare(s):"asc"===g?s-r:r-s}):[...y].sort((e,a)=>a.roas-e.roas),[y,f,g]),C=e=>{f===e?b("asc"===g?"desc":"asc"):(u(e),b("desc"))},_=({field:e})=>f!==e?r.jsx(m.Z,{className:"ml-2 h-4 w-4 opacity-50"}):"asc"===g?r.jsx(x.Z,{className:"ml-2 h-4 w-4"}):r.jsx(h.Z,{className:"ml-2 h-4 w-4"}),k=({field:e,children:a,className:s})=>r.jsx(n.ss,{className:(0,o.cn)("cursor-pointer hover:bg-muted select-none",f===e&&"font-bold",s),onClick:()=>C(e),"aria-sort":f===e?"asc"===g?"ascending":"descending":"none",children:(0,r.jsxs)("div",{className:"flex items-center justify-end",children:[a,r.jsx(_,{field:e})]})}),R=({field:e,children:a,className:s})=>r.jsx(n.ss,{className:(0,o.cn)("cursor-pointer hover:bg-muted select-none",f===e&&"font-bold",s),onClick:()=>C(e),"aria-sort":f===e?"asc"===g?"ascending":"descending":"none",children:(0,r.jsxs)("div",{className:"flex items-center",children:[a,r.jsx(_,{field:e})]})}),A=({value:e})=>{if(0===e||isNaN(e))return r.jsx(c.C,{variant:"secondary",className:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",children:r.jsx("span",{className:"text-xs",children:"-"})});let a=e>0;return(0,r.jsxs)(c.C,{variant:"secondary",className:(0,o.cn)("gap-1",a?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:[a?r.jsx(x.Z,{className:"h-3 w-3"}):r.jsx(h.Z,{className:"h-3 w-3"}),(0,r.jsxs)("span",{className:"text-xs",children:[Math.abs(e).toFixed(1),"%"]})]})};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Campanhas e varia\xe7\xe3o vs per\xedodo anterior"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(l._,{htmlFor:"only-active",className:"text-sm cursor-pointer",children:"Apenas ativas"}),r.jsx(i.r,{id:"only-active",checked:p,onCheckedChange:j})]})]}),r.jsx("div",{className:"rounded-md border overflow-x-auto",children:(0,r.jsxs)(n.iA,{children:[r.jsx(n.xD,{children:(0,r.jsxs)(n.SC,{children:[r.jsx(R,{field:"campaign_name",children:"Campanha"}),r.jsx(R,{field:"campaign_objective",children:"Objetivo"}),r.jsx(n.ss,{className:"text-right",children:"Investimento"}),r.jsx(n.ss,{className:"text-right",children:"% Inv."}),r.jsx(k,{field:"conversions",className:"text-right",children:"Resultados"}),r.jsx(n.ss,{className:"text-right",children:"% A\xe7\xf5es"}),r.jsx(k,{field:"cpa",className:"text-right",children:"CPA"}),r.jsx(n.ss,{className:"text-right",children:"% CPA"}),r.jsx(k,{field:"revenue",className:"text-right",children:"Receita"}),r.jsx(n.ss,{className:"text-right",children:"% Receita"}),r.jsx(k,{field:"roas",className:"text-right",children:"ROAS"}),r.jsx(n.ss,{className:"text-right",children:"% ROAS"})]})}),r.jsx(n.RM,{children:0===w.length?r.jsx(n.SC,{children:r.jsx(n.pj,{colSpan:12,className:"text-center text-muted-foreground",children:"Nenhuma campanha encontrada"})}):w.map(e=>(0,r.jsxs)(n.SC,{onClick:()=>s?.(e),className:s?"cursor-pointer":"",children:[r.jsx(n.pj,{className:"font-medium max-w-[300px] truncate",title:e.campaign_name||"",children:e.campaign_name||"Sem nome"}),r.jsx(n.pj,{className:"max-w-[200px] truncate",title:e.campaign_objective||"",children:e.campaign_objective||"N/A"}),r.jsx(n.pj,{className:"text-right",children:(0,d.xG)(e.spend)}),r.jsx(n.pj,{className:"text-right",children:e.variation&&r.jsx(A,{value:e.variation.spend})}),r.jsx(n.pj,{className:"text-right",children:(0,d.uf)(e.conversions)}),r.jsx(n.pj,{className:"text-right",children:e.variation&&r.jsx(A,{value:e.variation.conversions})}),r.jsx(n.pj,{className:"text-right",children:(0,d.xG)(e.cpa)}),r.jsx(n.pj,{className:"text-right",children:e.variation&&r.jsx(A,{value:e.variation.cpa})}),r.jsx(n.pj,{className:"text-right",children:(0,d.xG)(e.revenue)}),r.jsx(n.pj,{className:"text-right",children:e.variation&&r.jsx(A,{value:e.variation.revenue})}),r.jsx(n.pj,{className:"text-right font-bold",children:e.roas.toFixed(2)}),r.jsx(n.pj,{className:"text-right",children:e.variation&&r.jsx(A,{value:e.variation.roas})})]},`${e.campaign_id}_${e.platform}`))})]})})]})}},77382:(e,a,s)=>{"use strict";s.d(a,{D:()=>c});var r=s(10326),t=s(33071),n=s(58831);function c({data:e}){if(0===e.length)return(0,r.jsxs)(t.Zb,{children:[r.jsx(t.Ol,{children:r.jsx(t.ll,{children:"An\xe1lise por Objetivo de Campanha"})}),r.jsx(t.aY,{children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum dado dispon\xedvel"})})]});let a=Math.max(...e.map(e=>e.spend),1);return(0,r.jsxs)(t.Zb,{children:[r.jsx(t.Ol,{children:r.jsx(t.ll,{children:"An\xe1lise por Objetivo de Campanha"})}),r.jsx(t.aY,{children:r.jsx("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:e.objective}),(0,r.jsxs)("div",{className:"flex gap-4 text-muted-foreground",children:[(0,r.jsxs)("span",{children:[e.campaigns," campanhas"]}),r.jsx("span",{className:"font-semibold text-foreground",children:(0,n.xG)(e.spend)})]})]}),r.jsx("div",{className:"h-2 w-full rounded-full bg-secondary/20",children:r.jsx("div",{className:"h-2 rounded-full bg-primary",style:{width:`${e.spend/a*100}%`}})}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["ROAS: ",e.roas.toFixed(2)]}),(0,r.jsxs)("span",{children:["Receita: ",(0,n.xG)(e.revenue)]})]})]},e.objective))})})]})}},15940:(e,a,s)=>{"use strict";s.d(a,{RM:()=>l,Rn:()=>x,SC:()=>d,iA:()=>c,pj:()=>m,ss:()=>o,xD:()=>i});var r=s(10326),t=s(17577),n=s(11105);let c=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:(0,n.cn)("w-full caption-bottom text-sm",e),...a})}));c.displayName="Table";let i=t.forwardRef(({className:e,...a},s)=>r.jsx("thead",{ref:s,className:(0,n.cn)("[&_tr]:border-b",e),...a}));i.displayName="TableHeader";let l=t.forwardRef(({className:e,...a},s)=>r.jsx("tbody",{ref:s,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...a}));l.displayName="TableBody",t.forwardRef(({className:e,...a},s)=>r.jsx("tfoot",{ref:s,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let d=t.forwardRef(({className:e,...a},s)=>r.jsx("tr",{ref:s,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));d.displayName="TableRow";let o=t.forwardRef(({className:e,...a},s)=>r.jsx("th",{ref:s,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));o.displayName="TableHead";let m=t.forwardRef(({className:e,...a},s)=>r.jsx("td",{ref:s,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));m.displayName="TableCell";let x=t.forwardRef(({className:e,...a},s)=>r.jsx("caption",{ref:s,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...a}));x.displayName="TableCaption"}};