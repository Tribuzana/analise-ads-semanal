(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{23328:function(e,r,t){Promise.resolve().then(t.bind(t,19049))},19049:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Y}});var a=t(57437),s=t(76362),n=t(99376),i=t(2265),l=t(6741),o=t(17976),c=t(71599);t(54887);var u=t(98575),d=Symbol("radix.slottable");function f(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}var m=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=function(e){let r=function(e){let r=i.forwardRef((e,r)=>{let{children:t,...a}=e;if(i.isValidElement(t)){let e,s;let n=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref,l=function(e,r){let t={...r};for(let a in r){let s=e[a],n=r[a];/^on[A-Z]/.test(a)?s&&n?t[a]=(...e)=>{let r=n(...e);return s(...e),r}:s&&(t[a]=s):"style"===a?t[a]={...s,...n}:"className"===a&&(t[a]=[s,n].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==i.Fragment&&(l.ref=r?(0,u.F)(r,n):n),i.cloneElement(t,l)}return i.Children.count(t)>1?i.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=i.forwardRef((e,t)=>{let{children:s,...n}=e,l=i.Children.toArray(s),o=l.find(f);if(o){let e=o.props.children,s=l.map(r=>r!==o?r:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...n,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,s):null})}return(0,a.jsx)(r,{...n,ref:t,children:s})});return t.displayName=`${e}.Slot`,t}(`Primitive.${r}`),s=i.forwardRef((e,s)=>{let{asChild:n,...i}=e,l=n?t:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(l,{...i,ref:s})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),h=t(29114),p=t(80886),x=t(99255),v="Tabs",[g,y]=function(e,r=[]){let t=[],s=()=>{let r=t.map(e=>i.createContext(e));return function(t){let a=t?.[e]||r;return i.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return s.scopeName=e,[function(r,s){let n=i.createContext(s),l=t.length;t=[...t,s];let o=r=>{let{scope:t,children:s,...o}=r,c=t?.[e]?.[l]||n,u=i.useMemo(()=>o,Object.values(o));return(0,a.jsx)(c.Provider,{value:u,children:s})};return o.displayName=r+"Provider",[o,function(t,a){let o=a?.[e]?.[l]||n,c=i.useContext(o);if(c)return c;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((r,{useScope:t,scopeName:a})=>{let s=t(e)[`__scope${a}`];return{...r,...s}},{});return i.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}(s,...r)]}(v,[o.Pc]),j=(0,o.Pc)(),[b,N]=g(v),w=i.forwardRef((e,r)=>{let{__scopeTabs:t,value:s,onValueChange:n,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=(0,h.gm)(o),[f,g]=(0,p.T)({prop:s,onChange:n,defaultProp:null!=i?i:"",caller:v});return(0,a.jsx)(b,{scope:t,baseId:(0,x.M)(),value:f,onValueChange:g,orientation:l,dir:d,activationMode:c,children:(0,a.jsx)(m.div,{dir:d,"data-orientation":l,...u,ref:r})})});w.displayName=v;var C="TabsList",I=i.forwardRef((e,r)=>{let{__scopeTabs:t,loop:s=!0,...n}=e,i=N(C,t),l=j(t);return(0,a.jsx)(o.fC,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:(0,a.jsx)(m.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});I.displayName=C;var k="TabsTrigger",M=i.forwardRef((e,r)=>{let{__scopeTabs:t,value:s,disabled:n=!1,...i}=e,c=N(k,t),u=j(t),d=Z(c.baseId,s),f=O(c.baseId,s),h=s===c.value;return(0,a.jsx)(o.ck,{asChild:!0,...u,focusable:!n,active:h,children:(0,a.jsx)(m.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...i,ref:r,onMouseDown:(0,l.Mj)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,l.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,l.Mj)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||n||!e||c.onValueChange(s)})})})});M.displayName=k;var _="TabsContent",A=i.forwardRef((e,r)=>{let{__scopeTabs:t,value:s,forceMount:n,children:l,...o}=e,u=N(_,t),d=Z(u.baseId,s),f=O(u.baseId,s),h=s===u.value,p=i.useRef(h);return i.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(c.z,{present:n||h,children:t=>{let{present:s}=t;return(0,a.jsx)(m.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!s,id:f,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:p.current?"0s":void 0},children:s&&l})}})});function Z(e,r){return"".concat(e,"-trigger-").concat(r)}function O(e,r){return"".concat(e,"-content-").concat(r)}A.displayName=_;var S=t(47984);let R=i.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(I,{ref:r,className:(0,S.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s})});R.displayName=I.displayName;let E=i.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(M,{ref:r,className:(0,S.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s})});E.displayName=M.displayName;let z=i.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(A,{ref:r,className:(0,S.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});z.displayName=A.displayName;var P=t(66070),V=t(98728),J=t(98420),D=t(95805),F=t(39763);let T=(0,F.Z)("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]),H=(0,F.Z)("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);var W=t(14438),q=t(27648);function Y(){let{usuario:e,loading:r}=(0,s.a)(),t=(0,n.useRouter)();return((0,i.useEffect)(()=>{!r&&e&&"admin"!==e.nivel_acesso&&(W.A.error("Acesso restrito a administradores"),t.push("/"))},[e,r,t]),r)?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Carregando..."})}):(null==e?void 0:e.nivel_acesso)!=="admin"?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium text-red-600",children:"Acesso restrito"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Esta p\xe1gina \xe9 acess\xedvel apenas para administradores"})]})}):(0,a.jsxs)("div",{className:"space-y-10 pb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(V.Z,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Configura\xe7\xf5es do Sistema"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Gerencie hot\xe9is, usu\xe1rios, m\xf3dulos e integra\xe7\xf5es"})]})]}),(0,a.jsx)("div",{className:"py-6",children:(0,a.jsxs)(w,{defaultValue:"hoteis",className:"space-y-4",children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(E,{value:"hoteis",children:[(0,a.jsx)(J.Z,{className:"mr-2 h-4 w-4"}),"Hot\xe9is"]}),(0,a.jsxs)(E,{value:"usuarios",children:[(0,a.jsx)(D.Z,{className:"mr-2 h-4 w-4"}),"Usu\xe1rios"]}),(0,a.jsxs)(E,{value:"modulos",children:[(0,a.jsx)(T,{className:"mr-2 h-4 w-4"}),"M\xf3dulos"]}),(0,a.jsxs)(E,{value:"webhooks",children:[(0,a.jsx)(H,{className:"mr-2 h-4 w-4"}),"Webhooks"]})]}),(0,a.jsx)(z,{value:"hoteis",className:"space-y-4",children:(0,a.jsxs)(P.Zb,{children:[(0,a.jsxs)(P.Ol,{children:[(0,a.jsx)(P.ll,{children:"Gerenciamento de Hot\xe9is"}),(0,a.jsx)(P.SZ,{children:"Configure e gerencie os hot\xe9is do sistema"})]}),(0,a.jsxs)(P.aY,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Acesse a p\xe1gina de configura\xe7\xe3o de hot\xe9is para gerenciar todas as informa\xe7\xf5es dos hot\xe9is cadastrados."}),(0,a.jsx)(q.default,{href:"/configuracoes/hoteis",children:(0,a.jsx)("button",{className:"text-sm text-primary hover:underline",children:"Ir para Configura\xe7\xe3o de Hot\xe9is →"})})]})]})}),(0,a.jsx)(z,{value:"usuarios",className:"space-y-4",children:(0,a.jsxs)(P.Zb,{children:[(0,a.jsxs)(P.Ol,{children:[(0,a.jsx)(P.ll,{children:"Gerenciamento de Usu\xe1rios"}),(0,a.jsx)(P.SZ,{children:"Gerencie usu\xe1rios e permiss\xf5es do sistema"})]}),(0,a.jsxs)(P.aY,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Acesse a p\xe1gina de gerenciamento de usu\xe1rios para criar, editar e gerenciar permiss\xf5es."}),(0,a.jsx)(q.default,{href:"/configuracoes/usuarios",children:(0,a.jsx)("button",{className:"text-sm text-primary hover:underline",children:"Ir para Gerenciamento de Usu\xe1rios →"})})]})]})}),(0,a.jsx)(z,{value:"modulos",className:"space-y-4",children:(0,a.jsxs)(P.Zb,{children:[(0,a.jsxs)(P.Ol,{children:[(0,a.jsx)(P.ll,{children:"M\xf3dulos do Sistema"}),(0,a.jsx)(P.SZ,{children:"Configure m\xf3dulos e permiss\xf5es de acesso"})]}),(0,a.jsx)(P.aY,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Os m\xf3dulos do sistema s\xe3o gerenciados automaticamente. Entre em contato com o administrador para mais informa\xe7\xf5es."})})]})}),(0,a.jsx)(z,{value:"webhooks",className:"space-y-4",children:(0,a.jsxs)(P.Zb,{children:[(0,a.jsxs)(P.Ol,{children:[(0,a.jsx)(P.ll,{children:"Webhooks"}),(0,a.jsx)(P.SZ,{children:"Configure webhooks para integra\xe7\xf5es externas"})]}),(0,a.jsxs)(P.aY,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Os webhooks s\xe3o configurados por hotel na p\xe1gina de configura\xe7\xe3o de alertas."}),(0,a.jsx)(q.default,{href:"/alertas-config",children:(0,a.jsx)("button",{className:"text-sm text-primary hover:underline",children:"Ir para Configura\xe7\xe3o de Alertas →"})})]})]})})]})})]})}},66070:function(e,r,t){"use strict";t.d(r,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return u},ll:function(){return o}});var a=t(57437),s=t(2265),n=t(47984);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-2 p-6",t),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...s})});u.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},46281:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return l},a:function(){return o}});var a=t(57437),s=t(2265),n=t(10970);let i=(0,s.createContext)(void 0);function l(e){let{children:r}=e,[t,l]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0),f=(0,n.e)();(0,s.useEffect)(()=>{f.auth.getSession().then(e=>{var r;let{data:{session:t}}=e;l(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null),(null==t?void 0:t.user)?m(t.user.id):d(!1)});let{data:{subscription:e}}=f.auth.onAuthStateChange((e,r)=>{var t;l(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null),(null==r?void 0:r.user)?m(r.user.id):(c(null),d(!1))});return()=>{e.unsubscribe()}},[]);let m=async e=>{try{let{data:r,error:t}=await f.from("usuarios").select("*").eq("id",e).eq("ativo",!0).single();if(t)throw t;c(r)}catch(e){console.error("Erro ao buscar usu\xe1rio:",e),c(null)}finally{d(!1)}},h=async(e,r)=>{let{error:t}=await f.auth.signInWithPassword({email:e,password:r});if(t)throw t},p=async()=>{try{localStorage.removeItem("tribuzana_filters"),localStorage.removeItem("tribuzana_resolved_alerts"),localStorage.removeItem("tribuzana_sidebar_collapsed");let{error:e}=await f.auth.signOut();if(e)throw console.error("[signOut] Erro do Supabase:",e),l(null),c(null),e;l(null),c(null)}catch(e){throw console.error("[signOut] Erro ao fazer logout:",e),l(null),c(null),e}};return(0,a.jsx)(i.Provider,{value:{user:t,usuario:o,loading:u,signIn:h,signOut:p},children:r})}let o=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},76362:function(e,r,t){"use strict";t.d(r,{a:function(){return a}});let a=t(46281).a},10970:function(e,r,t){"use strict";t.d(r,{e:function(){return o}});var a=t(11259);let s="__supabase_browser_client__",n=new Map;async function i(e,r,t){let a;let s=n.get(e);s&&await s;let i=new Promise(e=>{a=e});n.set(e,i);try{return await t()}finally{a(),n.delete(e)}}let l=(()=>{if(globalThis[s])return globalThis[s];let e="https://hatciwhpzmyidatpiezk.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhdGNpd2hwem15aWRhdHBpZXprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwNDczMDAsImV4cCI6MjA3NTYyMzMwMH0.4gHLRQPAsh08ECaLUxMdSHIvegOXcAv4a_WMFmrJ_qU";return e&&r?(globalThis[s]=(0,a.createBrowserClient)(e,r,{auth:{lock:i}}),globalThis[s]):(console.error("[Supabase Client] Vari\xe1veis de ambiente n\xe3o definidas:",{url:e?"OK":"FALTANDO",key:r?"OK":"FALTANDO"}),null)})(),o=()=>{if(!l){let e="https://hatciwhpzmyidatpiezk.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhdGNpd2hwem15aWRhdHBpZXprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwNDczMDAsImV4cCI6MjA3NTYyMzMwMH0.4gHLRQPAsh08ECaLUxMdSHIvegOXcAv4a_WMFmrJ_qU";if(!e||!r)throw Error("Vari\xe1veis de ambiente do Supabase n\xe3o est\xe3o configuradas. Verifique o arquivo .env.local");return(0,a.createBrowserClient)(e,r,{auth:{lock:i}})}return l}},47984:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var a=t(61994),s=t(53335);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}},98420:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(39763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},95805:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(39763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[554,434,259,438,269,357,971,117,744],function(){return e(e.s=23328)}),_N_E=e.O()}]);