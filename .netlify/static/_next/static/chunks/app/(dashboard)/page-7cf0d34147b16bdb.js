(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{1490:function(e,t,a){Promise.resolve().then(a.bind(a,51394))},51394:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return L}});var s=a(57437),r=a(2265),n=a(2621);a(83079);var o=a(12119),i=(0,o.$)("dd82733e1d411f352ef091a349fe6ac4871a6073"),l=(0,o.$)("1eef6e426185e8694b93fd651e36da9c04f9d3a1"),c=a(39596);let d=(e,t)=>0===t?0:e/t;var u=a(65696),m=a(65399),p=a(83348),x=a(66070),g=a(35974),h=a(20265),v=a(15051),f=a(47984),y=a(50754);function j(e){let{label:t,value:a,delta:n,isPositive:o,data:i,valueType:l="number",dates:c,compareValue:d}=e,[u,m]=(0,r.useState)(null),p=(0,r.useRef)(null),j=(0,r.useRef)(null),b=Array.isArray(i)?i:[],A=o?h.Z:v.Z,N="number"==typeof a?a.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):a,w="".concat(o?"+":"").concat(n.toFixed(1),"%"),D=function(e,t,a){if(!e||!Array.isArray(e)||0===e.length)return"";if(1===e.length)return"M 0 ".concat(25," L ").concat(200," ").concat(25);let s=Math.min(...e),r=Math.max(...e)-s||1,n=e.map((t,a)=>({x:a/(e.length-1||1)*200,y:50-(t-s)/r*50})),o="M ".concat(n[0].x," ").concat(n[0].y);for(let e=1;e<n.length;e++){let t=n[e-1],a=n[e];if(1===e){let e=(t.x+a.x)/2,s=(t.y+a.y)/2;o+=" L ".concat(e," ").concat(s)}if(e<n.length-1){let t=n[e+1],s=(a.x+t.x)/2,r=(a.y+t.y)/2;o+=" Q ".concat(a.x," ").concat(a.y," ").concat(s," ").concat(r)}else o+=" L ".concat(a.x," ").concat(a.y)}return o}(b,0,50),k=(e,t)=>{let a=t.getBoundingClientRect(),s=Math.max(0,Math.min(1,(e-a.left)/a.width)),r=b.length||1;return Math.max(0,Math.min(r-1,Math.floor(s*(r-1))))};return(0,s.jsxs)(x.Zb,{children:[(0,s.jsx)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,s.jsx)(x.ll,{className:"text-sm font-medium",children:t})}),(0,s.jsx)(x.aY,{children:(0,s.jsxs)("div",{className:"space-y-3 relative",ref:j,children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:N}),void 0!==d&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["vs ano anterior: ",d]}),(0,s.jsxs)(g.C,{variant:"secondary",className:(0,f.cn)("gap-1 w-fit",o?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,s.jsx)(A,{className:"h-3 w-3"}),w]}),(0,s.jsxs)("div",{className:"mt-4 -mb-2 relative",children:[(0,s.jsxs)("svg",{ref:p,width:"100%",height:50,viewBox:"0 0 ".concat(200," ").concat(50),preserveAspectRatio:"none",className:"overflow-visible cursor-crosshair",onMouseMove:e=>{if(!p.current||!b||0===b.length)return;let t=k(e.clientX,p.current),a=b[t],s=c&&c[t]?c[t]:void 0;if(j.current){let r=j.current.getBoundingClientRect();m({x:e.clientX-r.left,y:e.clientY-r.top-60,value:a,index:t,date:s})}},onMouseLeave:()=>{m(null)},children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"gradient-".concat(o?"green":"red"),x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:o?"#16a34a":"#dc2626",stopOpacity:"0.2"}),(0,s.jsx)("stop",{offset:"100%",stopColor:o?"#16a34a":"#dc2626",stopOpacity:"0.05"})]})}),D&&(0,s.jsx)("path",{d:"".concat(D," L ").concat(200," ").concat(50," L 0 ").concat(50," Z"),fill:"url(#gradient-".concat(o?"green":"red",")")}),D&&(0,s.jsx)("path",{d:D,fill:"none",stroke:o?"#16a34a":"#dc2626",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u&&b.length>0&&(()=>{let e=Math.min(...b),t=Math.max(...b),a=u.index/(b.length-1||1)*200,r=50-(u.value-e)/(t-e||1)*50;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("line",{x1:a,y1:0,x2:a,y2:50,stroke:"currentColor",strokeWidth:"1",strokeDasharray:"2,2",className:"text-muted-foreground opacity-50"}),(0,s.jsx)("circle",{cx:a,cy:r,r:"4",fill:o?"#16a34a":"#dc2626",stroke:"white",strokeWidth:"2"})]})})()]}),u&&(0,s.jsxs)("div",{className:"absolute z-10 px-2 py-1.5 text-xs bg-popover border border-border rounded-md shadow-lg pointer-events-none min-w-[100px]",style:{left:"".concat(u.x,"px"),top:"".concat(u.y,"px"),transform:"translateX(-50%)"},children:[u.date&&(0,s.jsx)("div",{className:"text-muted-foreground text-[10px] mb-1",children:(0,y.p6)(u.date)}),(0,s.jsx)("div",{className:"text-foreground font-semibold",children:(e=>{switch(l){case"currency":return(0,y.xG)(e);case"decimal":return e.toFixed(2);default:return(0,y.uf)(e)}})(u.value)})]})]})]})})]})}var b=a(93022),A=a(1828),N=a(26815),w=a(45136),D=a(49162),k=a(97304),S=a(39763);let C=(0,S.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var M=a(63639),R=a(70525);function Z(e){let{analyticsData:t,dashboardMetrics:a}=e,r=[],n=t.campaigns.filter(e=>{let t=a.geral.roas;return e.roas>0&&e.roas<.8*t});n.length>0&&r.push({type:"warning",title:"Campanhas em Decl\xednio",description:"".concat(n.length," campanha(s) com ROAS abaixo da m\xe9dia. Considere revisar estrat\xe9gia ou pausar."),metric:"ROAS m\xe9dio: ".concat(a.geral.roas.toFixed(2))});let o=t.campaigns.filter(e=>e.roas>4&&e.spend<1e3);o.length>0&&r.push({type:"opportunity",title:"Oportunidades de Escala",description:"".concat(o.length," campanha(s) com ROAS excelente e baixo investimento. Considere aumentar budget."),metric:"ROAS m\xe9dio: ".concat((o.reduce((e,t)=>e+t.roas,0)/o.length).toFixed(2))}),a.geral.roas<2&&a.geral.investment>0&&r.push({type:"warning",title:"Performance Abaixo do Esperado",description:"ROAS geral est\xe1 abaixo de 2.0. Revise estrat\xe9gias de campanha e segmenta\xe7\xe3o.",metric:"ROAS atual: ".concat(a.geral.roas.toFixed(2))}),a.geral.roas>4&&a.geral.investment>0&&r.push({type:"opportunity",title:"Excelente Performance",description:"ROAS geral est\xe1 acima de 4.0. Considere aumentar investimento para escalar resultados.",metric:"ROAS atual: ".concat(a.geral.roas.toFixed(2))});let i=a.googleAds.investment/(a.geral.investment||1);i>.8?r.push({type:"info",title:"Desequil\xedbrio de Investimento",description:"Mais de 80% do investimento est\xe1 no Google Ads. Considere diversificar para Meta Ads."}):i<.2&&r.push({type:"info",title:"Desequil\xedbrio de Investimento",description:"Mais de 80% do investimento est\xe1 no Meta Ads. Considere diversificar para Google Ads."});let l=t.campaigns.filter(e=>{var t;return(null===(t=e.campaign_status)||void 0===t?void 0:t.toUpperCase())==="PAUSED"&&e.roas>3});return(l.length>0&&r.push({type:"opportunity",title:"Campanhas Pausadas com Potencial",description:"".concat(l.length," campanha(s) pausada(s) com ROAS hist\xf3rico acima de 3.0. Considere reativar.")}),0===r.length)?(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[(0,s.jsxs)(x.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(C,{className:"h-5 w-5"}),"Insights Autom\xe1ticos"]}),(0,s.jsx)(x.SZ,{children:"An\xe1lise autom\xe1tica de performance e oportunidades"})]}),(0,s.jsx)(x.aY,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum insight dispon\xedvel no momento. Suas campanhas est\xe3o performando bem!"})})]}):(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[(0,s.jsxs)(x.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(C,{className:"h-5 w-5"}),"Insights Autom\xe1ticos"]}),(0,s.jsx)(x.SZ,{children:"An\xe1lise autom\xe1tica de performance e oportunidades"})]}),(0,s.jsx)(x.aY,{className:"space-y-4",children:r.map((e,t)=>(0,s.jsx)("div",{className:"p-4 rounded-lg border ".concat("warning"===e.type?"bg-yellow-50 border-yellow-200":"opportunity"===e.type?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:["warning"===e.type&&(0,s.jsx)(M.Z,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),"opportunity"===e.type&&(0,s.jsx)(R.Z,{className:"h-5 w-5 text-green-600 mt-0.5"}),"info"===e.type&&(0,s.jsx)(C,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-sm",children:e.title}),(0,s.jsx)(g.C,{variant:"secondary",className:"warning"===e.type?"bg-yellow-100 text-yellow-800":"opportunity"===e.type?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",children:"warning"===e.type?"Aten\xe7\xe3o":"opportunity"===e.type?"Oportunidade":"Info"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:e.description}),e.metric&&(0,s.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:e.metric})]})]})},t))})]})}let O=(0,S.Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),E=(0,S.Z)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);var G=a(95252),F=a(16275),P=a(28921),I=a(42208);function V(e){if(!e||e.length<2)return{delta:0,isPositive:!0};if(2===e.length){let t=e[0]||0,a=e[1]||0;if(0===t)return{delta:a>0?100:0,isPositive:a>=t};let s=(a-t)/t*100;return{delta:Math.abs(s),isPositive:s>=0}}let t=Math.max(1,Math.floor(e.length/2)),a=e.slice(0,t),s=e.slice(t),r=a.reduce((e,t)=>e+(t||0),0)/a.length,n=s.reduce((e,t)=>e+(t||0),0)/s.length;if(0===r)return{delta:n>0?100:0,isPositive:n>=r};let o=(n-r)/r*100;return{delta:Math.abs(o),isPositive:o>=0}}function T(e,t){return e&&0!==e.length?{data:e.map(e=>e[t]||0),dates:e.map(e=>e.date)}:{data:[],dates:[]}}function L(){let{metrics:e,loading:t,error:a}=function(){let e=(0,n.j)(),[t,a]=(0,r.useState)(null),[s,o]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async function(){if(!e.startDate||!e.endDate){console.warn("[useDashboard] Datas n\xe3o definidas:",{startDate:e.startDate,endDate:e.endDate}),o(!1);return}console.log("[useDashboard] Buscando m\xe9tricas com filtros:",{startDate:e.startDate,endDate:e.endDate,selectedHotels:e.selectedHotels.length}),o(!0),c(null);try{let t={selectedHotels:e.selectedHotels,startDate:e.startDate,endDate:e.endDate,selectedCidades:e.selectedCidades,selectedEstados:e.selectedEstados,compareYearAgo:e.compareYearAgo,selectedObjectives:e.selectedObjectives,selectedResultTypes:e.selectedResultTypes},s=await l(t);console.log("[useDashboard] M\xe9tricas recebidas:",{geral:s.geral,googleAds:s.googleAds,metaAds:s.metaAds}),a(s)}catch(e){c(e.message||"Erro desconhecido ao buscar m\xe9tricas"),console.error("[useDashboard] Erro ao buscar m\xe9tricas:",e)}finally{o(!1)}})()},[e.selectedHotels,e.startDate,e.endDate,e.selectedCidades,e.selectedEstados,e.compareYearAgo,e.selectedObjectives,e.selectedResultTypes]),{metrics:t,loading:s,error:i}}(),{data:o}=(0,c.j)(),{temporalData:g,campaignKPIs:h,loading:v}=function(){let e=(0,n.j)(),[t,a]=(0,r.useState)([]),[s,o]=(0,r.useState)({activeGoogle:0,pausedGoogle:0,activeMeta:0,pausedMeta:0}),[l,c]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async function(){c(!0),m(null);try{let t=await i({selectedHotels:e.selectedHotels,selectedCidades:e.selectedCidades,selectedEstados:e.selectedEstados}),s=function(e){let t=new Map;return e.forEach(e=>{t.has(e.date)||t.set(e.date,{date:e.date,spend:0,revenue:0});let a=t.get(e.date);a.spend+=parseFloat(String(e.spend||0)),a.revenue+=parseFloat(String(e.conversions_value||0))}),Array.from(t.values()).map(e=>({date:e.date,spend:e.spend,revenue:e.revenue,roas:d(e.revenue,e.spend)})).sort((e,t)=>e.date.localeCompare(t.date))}(t),r=function(e){let t=new Map;e.forEach(e=>{let a="".concat(e.campaign_id,"_").concat(e.platform);t.has(a)||t.set(a,{platform:"Google"===e.platform||"Google Ads"===e.platform?"Google":"Meta",status:e.campaign_status})});let a=0,s=0,r=0,n=0;return t.forEach(e=>{var t;let o=(null===(t=e.status)||void 0===t?void 0:t.toUpperCase())||"",i="ACTIVE"===o||"ENABLED"===o||""===o,l="PAUSED"===o||"PAUSE"===o;"Google"===e.platform?(i&&a++,l&&s++):(i&&r++,l&&n++)}),{activeGoogle:a,pausedGoogle:s,activeMeta:r,pausedMeta:n}}(t);a(s),o(r)}catch(e){m(e.message||"Erro desconhecido ao buscar dados das \xfaltimas 4 semanas"),console.error("[useLast4Weeks] Erro:",e)}finally{c(!1)}})()},[e.selectedHotels.join(","),e.selectedCidades.join(","),e.selectedEstados.join(",")]),{temporalData:t,campaignKPIs:s,loading:l,error:u}}(),{compareYearAgo:f}=(0,n.j)(),[S,C]=(0,r.useState)(!1);return t?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Vis\xe3o geral das campanhas Google Ads e Meta Ads"})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(8)].map((e,t)=>(0,s.jsx)(b.O,{className:"h-[140px]"},t))})]}):a?(0,s.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("p",{className:"text-lg font-medium text-red-600",children:"Erro ao carregar dados"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground mt-4 p-4 bg-muted rounded-lg",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Dica:"})," Verifique:"]}),(0,s.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,s.jsx)("li",{children:"Se voc\xea est\xe1 autenticado (veja seu nome no canto superior direito)"}),(0,s.jsx)("li",{children:"Se as datas dos filtros est\xe3o definidas"}),(0,s.jsx)("li",{children:"O console do navegador para mais detalhes"})]})]})]})}):e?(0,s.jsxs)("div",{className:"space-y-10 pb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Vis\xe3o geral das campanhas Google Ads e Meta Ads"})]}),(0,s.jsxs)("div",{className:"py-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Status das Campanhas"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(p.i,{title:"Campanhas Ativas Google",value:(0,y.uf)(h.activeGoogle),icon:(0,s.jsx)(O,{className:"h-4 w-4"})}),(0,s.jsx)(p.i,{title:"Campanhas Pausadas Google",value:(0,y.uf)(h.pausedGoogle),icon:(0,s.jsx)(E,{className:"h-4 w-4"})}),(0,s.jsx)(p.i,{title:"Campanhas Ativas Meta",value:(0,y.uf)(h.activeMeta),icon:(0,s.jsx)(O,{className:"h-4 w-4"})}),(0,s.jsx)(p.i,{title:"Campanhas Pausadas Meta",value:(0,y.uf)(h.pausedMeta),icon:(0,s.jsx)(E,{className:"h-4 w-4"})})]})]}),o&&(0,s.jsx)(Z,{analyticsData:o,dashboardMetrics:e}),(0,s.jsxs)("div",{className:"py-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"M\xe9tricas Gerais"}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:(null==o?void 0:o.temporalData)&&o.temporalData.length>0?(0,s.jsxs)(s.Fragment,{children:[(()=>{let{data:t,dates:a}=T(o.temporalData,"spend"),{delta:r,isPositive:n}=e.comparison?{delta:e.comparison.geral.delta.investment,isPositive:e.comparison.geral.delta.investment>=0}:V(t),i=e.comparison?(0,y.xG)(e.comparison.geral.previous.investment):void 0;return(0,s.jsx)(j,{label:"Investimento Total",value:(0,y.xG)(e.geral.investment),delta:r,isPositive:n,data:t,dates:a,valueType:"currency",compareValue:i})})(),(()=>{let{data:t,dates:a}=T(o.temporalData,"revenue"),{delta:r,isPositive:n}=e.comparison?{delta:e.comparison.geral.delta.revenue,isPositive:e.comparison.geral.delta.revenue>=0}:V(t),i=e.comparison?(0,y.xG)(e.comparison.geral.previous.revenue):void 0;return(0,s.jsx)(j,{label:"Receita Total",value:(0,y.xG)(e.geral.revenue),delta:r,isPositive:n,data:t,dates:a,valueType:"currency",compareValue:i})})(),(()=>{let{data:t,dates:a}=T(o.temporalData,"conversions"),{delta:r,isPositive:n}=e.comparison?{delta:e.comparison.geral.delta.conversions,isPositive:e.comparison.geral.delta.conversions>=0}:V(t),i=e.comparison?(0,y.uf)(e.comparison.geral.previous.conversions):void 0;return(0,s.jsx)(j,{label:"Convers\xf5es",value:(0,y.uf)(e.geral.conversions),delta:r,isPositive:n,data:t,dates:a,valueType:"number",compareValue:i})})(),(()=>{let{data:t,dates:a}=T(o.temporalData,"roas"),{delta:r,isPositive:n}=f&&e.comparison?{delta:e.comparison.geral.delta.roas,isPositive:e.comparison.geral.delta.roas>=0}:V(t),i=f&&e.comparison?e.comparison.geral.previous.roas.toFixed(2):void 0;return(0,s.jsx)(j,{label:"ROAS",value:e.geral.roas.toFixed(2),delta:r,isPositive:n,data:t,dates:a,valueType:"decimal",compareValue:i})})()]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.i,{title:"Investimento Total",value:(0,y.xG)(e.geral.investment),icon:(0,s.jsx)(G.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.geral.delta.investment:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.geral.previous.investment):void 0}),(0,s.jsx)(p.i,{title:"Receita Total",value:(0,y.xG)(e.geral.revenue),icon:(0,s.jsx)(R.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.geral.delta.revenue:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.geral.previous.revenue):void 0}),(0,s.jsx)(p.i,{title:"Convers\xf5es",value:(0,y.uf)(e.geral.conversions),icon:(0,s.jsx)(F.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.geral.delta.conversions:void 0,compareValue:e.comparison?(0,y.uf)(e.comparison.geral.previous.conversions):void 0}),(0,s.jsx)(p.i,{title:"ROAS",value:e.geral.roas.toFixed(2),subtitle:e.comparison?void 0:"Return on Ad Spend",icon:(0,s.jsx)(R.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.geral.delta.roas:void 0,compareValue:e.comparison?e.comparison.geral.previous.roas.toFixed(2):void 0})]})})]}),g.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"\xdaltimas 4 Semanas"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N._,{htmlFor:"weekly-toggle",className:"text-sm text-muted-foreground",children:"Di\xe1rio"}),(0,s.jsx)(A.r,{id:"weekly-toggle",checked:S,onCheckedChange:C}),(0,s.jsx)(N._,{htmlFor:"weekly-toggle",className:"text-sm text-muted-foreground",children:"Semanal (Dom-S\xe1b)"})]})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:(()=>{let e=S?function(e){let t=new Map;return e.forEach(e=>{let a=new Date(e.date),s=(0,u.z)(a,{weekStartsOn:0}),r=(0,m.WU)(s,"yyyy-MM-dd");t.has(r)||t.set(r,{spend:0,revenue:0,startDate:s});let n=t.get(r);n.spend+=e.spend,n.revenue+=e.revenue}),Array.from(t.entries()).map(e=>{let[t,a]=e,s=new Date(a.startDate);return s.setDate(s.getDate()+6),{date:t,spend:a.spend,revenue:a.revenue,roas:d(a.revenue,a.spend),weekLabel:"".concat((0,m.WU)(a.startDate,"dd/MM")," - ").concat((0,m.WU)(s,"dd/MM"))}}).sort((e,t)=>e.date.localeCompare(t.date))}(g):g.map(e=>({...e,weekLabel:new Date(e.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})),t=e=>S&&"weekLabel"in e?e.weekLabel:new Date(e.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[(0,s.jsx)(x.ll,{children:"Investimento"}),(0,s.jsx)(x.SZ,{children:S?"Investimento acumulado por semana (domingo a s\xe1bado)":"Investimento di\xe1rio das \xfaltimas 4 semanas"})]}),(0,s.jsx)(x.aY,{children:(0,s.jsx)(w.w,{data:e.map(e=>({date:t(e),Investimento:e.spend})),dataKeys:[{key:"Investimento",name:"Investimento",color:"hsl(var(--primary))"}],yAxisFormatter:e=>(0,y.xG)(e)})})]}),(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[(0,s.jsx)(x.ll,{children:"Receita"}),(0,s.jsx)(x.SZ,{children:S?"Receita acumulada por semana (domingo a s\xe1bado)":"Receita di\xe1ria das \xfaltimas 4 semanas"})]}),(0,s.jsx)(x.aY,{children:(0,s.jsx)(w.w,{data:e.map(e=>({date:t(e),Receita:e.revenue})),dataKeys:[{key:"Receita",name:"Receita",color:"#82ca9d"}],yAxisFormatter:e=>(0,y.xG)(e)})})]}),(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[(0,s.jsx)(x.ll,{children:"ROAS"}),(0,s.jsx)(x.SZ,{children:S?"ROAS m\xe9dio por semana (domingo a s\xe1bado)":"ROAS di\xe1rio das \xfaltimas 4 semanas"})]}),(0,s.jsx)(x.aY,{children:(0,s.jsx)(w.w,{data:e.map(e=>({date:t(e),ROAS:e.roas})),dataKeys:[{key:"ROAS",name:"ROAS",color:"#8884d8"}],yAxisFormatter:e=>"".concat(Number(e).toFixed(2).replace(".",","),"x")})})]})]})})()})]}),o&&o.temporalData.length>0&&(0,s.jsx)("div",{className:"py-6",children:(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[(0,s.jsx)(x.ll,{children:"Evolu\xe7\xe3o Temporal - Investimento vs Receita"}),(0,s.jsx)(x.SZ,{children:"Compara\xe7\xe3o de investimento e receita ao longo do tempo"})]}),(0,s.jsx)(x.aY,{children:(0,s.jsx)(w.w,{data:o.temporalData.map(e=>({date:new Date(e.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),Investimento:e.spend,Receita:e.revenue})),dataKeys:[{key:"Investimento",name:"Investimento",color:"hsl(var(--primary))"},{key:"Receita",name:"Receita",color:"#82ca9d"}]})})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Google Ads"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(p.i,{title:"Investimento",value:(0,y.xG)(e.googleAds.investment),icon:(0,s.jsx)(G.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.googleAds.delta.investment:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.googleAds.previous.investment):void 0}),(0,s.jsx)(p.i,{title:"Receita",value:(0,y.xG)(e.googleAds.revenue),icon:(0,s.jsx)(R.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.googleAds.delta.revenue:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.googleAds.previous.revenue):void 0}),(0,s.jsx)(p.i,{title:"ROAS",value:e.googleAds.roas.toFixed(2),change:e.comparison?e.comparison.googleAds.delta.roas:void 0,compareValue:e.comparison?e.comparison.googleAds.previous.roas.toFixed(2):void 0}),(0,s.jsx)(p.i,{title:"CPA",value:(0,y.xG)(e.googleAds.cpa),change:e.comparison?e.comparison.googleAds.delta.cpa:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.googleAds.previous.cpa):void 0}),(0,s.jsx)(p.i,{title:"Cliques",value:(0,y.uf)(e.googleAds.clicks),icon:(0,s.jsx)(P.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.googleAds.delta.clicks:void 0,compareValue:e.comparison?(0,y.uf)(e.comparison.googleAds.previous.clicks):void 0}),(0,s.jsx)(p.i,{title:"Impress\xf5es",value:(0,y.uf)(e.googleAds.impressions),icon:(0,s.jsx)(I.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.googleAds.delta.impressions:void 0,compareValue:e.comparison?(0,y.uf)(e.comparison.googleAds.previous.impressions):void 0}),(0,s.jsx)(p.i,{title:"CTR",value:(0,y.rl)(e.googleAds.ctr),change:e.comparison?e.comparison.googleAds.delta.ctr:void 0,compareValue:e.comparison?(0,y.rl)(e.comparison.googleAds.previous.ctr):void 0}),(0,s.jsx)(p.i,{title:"CPC",value:(0,y.xG)(e.googleAds.cpc),change:e.comparison?e.comparison.googleAds.delta.cpc:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.googleAds.previous.cpc):void 0})]})]}),(0,s.jsxs)("div",{className:"py-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Meta Ads"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(p.i,{title:"Investimento",value:(0,y.xG)(e.metaAds.investment),icon:(0,s.jsx)(G.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.metaAds.delta.investment:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.metaAds.previous.investment):void 0}),(0,s.jsx)(p.i,{title:"Receita",value:(0,y.xG)(e.metaAds.revenue),icon:(0,s.jsx)(R.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.metaAds.delta.revenue:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.metaAds.previous.revenue):void 0}),(0,s.jsx)(p.i,{title:"ROAS",value:e.metaAds.roas.toFixed(2),change:e.comparison?e.comparison.metaAds.delta.roas:void 0,compareValue:e.comparison?e.comparison.metaAds.previous.roas.toFixed(2):void 0}),(0,s.jsx)(p.i,{title:"CPA",value:(0,y.xG)(e.metaAds.cpa),change:e.comparison?e.comparison.metaAds.delta.cpa:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.metaAds.previous.cpa):void 0}),(0,s.jsx)(p.i,{title:"Cliques",value:(0,y.uf)(e.metaAds.clicks),icon:(0,s.jsx)(P.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.metaAds.delta.clicks:void 0,compareValue:e.comparison?(0,y.uf)(e.comparison.metaAds.previous.clicks):void 0}),(0,s.jsx)(p.i,{title:"Impress\xf5es",value:(0,y.uf)(e.metaAds.impressions),icon:(0,s.jsx)(I.Z,{className:"h-4 w-4"}),change:e.comparison?e.comparison.metaAds.delta.impressions:void 0,compareValue:e.comparison?(0,y.uf)(e.comparison.metaAds.previous.impressions):void 0}),(0,s.jsx)(p.i,{title:"CTR",value:(0,y.rl)(e.metaAds.ctr),change:e.comparison?e.comparison.metaAds.delta.ctr:void 0,compareValue:e.comparison?(0,y.rl)(e.comparison.metaAds.previous.ctr):void 0}),(0,s.jsx)(p.i,{title:"CPC",value:(0,y.xG)(e.metaAds.cpc),change:e.comparison?e.comparison.metaAds.delta.cpc:void 0,compareValue:e.comparison?(0,y.xG)(e.comparison.metaAds.previous.cpc):void 0})]})]}),o&&(0,s.jsx)("div",{className:"py-6",children:(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[(0,s.jsx)(x.ll,{children:"Distribui\xe7\xe3o de Investimento por Plataforma"}),(0,s.jsx)(x.SZ,{children:"Investimento em cada plataforma"})]}),(0,s.jsx)(x.aY,{children:(0,s.jsx)(D.u,{data:[{name:"Google Ads",value:e.googleAds.investment},{name:"Meta Ads",value:e.metaAds.investment}]})})]})}),o&&o.topCampaigns.length>0&&(0,s.jsx)("div",{className:"py-6",children:(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[(0,s.jsx)(x.ll,{children:"Top 5 Campanhas por ROAS"}),(0,s.jsx)(x.SZ,{children:"Campanhas com melhor retorno sobre investimento"})]}),(0,s.jsx)(x.aY,{children:(0,s.jsx)(k.v,{data:o.topCampaigns.slice(0,5).map(e=>({campanha:e.campaign_name.length>30?e.campaign_name.substring(0,30)+"...":e.campaign_name,ROAS:e.roas})),dataKeys:[{key:"ROAS",name:"ROAS",color:"hsl(var(--primary))"}],xAxisKey:"campanha",yAxisFormatter:e=>"".concat(Number(e).toFixed(2).replace(".",","),"x")})})]})})]}):null}},97304:function(e,t,a){"use strict";a.d(t,{v:function(){return m}});var s=a(57437),r=a(91436),n=a(77031),o=a(56940),i=a(97059),l=a(62994),c=a(78155),d=a(53250),u=a(54890);function m(e){let{data:t,dataKeys:a,xAxisKey:m,yAxisFormatter:p}=e;return(0,s.jsx)(r.h,{width:"100%",height:350,children:(0,s.jsxs)(n.v,{data:t,margin:{top:5,right:30,left:20,bottom:60},children:[(0,s.jsx)(o.q,{strokeDasharray:"3 3"}),(0,s.jsx)(i.K,{dataKey:m,tick:{fontSize:11},angle:-45,textAnchor:"end",height:80,interval:0}),(0,s.jsx)(l.B,{tick:{fontSize:12},tickFormatter:p}),(0,s.jsx)(c.u,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(e,t)=>"ROAS"===t||"roas"===t?"".concat(Number(e).toFixed(2).replace(".",","),"x"):e}),(0,s.jsx)(d.D,{}),a.map(e=>{let{key:t,name:a,color:r}=e;return(0,s.jsx)(u.$Q,{dataKey:t,name:a,fill:r},t)})]})})}},45136:function(e,t,a){"use strict";a.d(t,{w:function(){return p}});var s=a(57437),r=a(91436),n=a(21156),o=a(56940),i=a(97059),l=a(62994),c=a(78155),d=a(53250),u=a(55487),m=a(50754);function p(e){let{data:t,dataKeys:a,xAxisKey:p="date",yAxisFormatter:x}=e;return(0,s.jsx)(r.h,{width:"100%",height:300,children:(0,s.jsxs)(n.w,{data:t,children:[(0,s.jsx)(o.q,{strokeDasharray:"3 3"}),(0,s.jsx)(i.K,{dataKey:p,tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),(0,s.jsx)(l.B,{tick:{fontSize:12},tickFormatter:x}),(0,s.jsx)(c.u,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(e,t)=>{let s=a.find(e=>e.key===t||e.name===t);return(null==s?void 0:s.formatter)?s.formatter(e):"Investimento"===t||"Receita"===t?(0,m.xG)(e):"ROAS"===t||"roas"===t?"".concat(Number(e).toFixed(2).replace(".",","),"x"):e}}),(0,s.jsx)(d.D,{}),a.map(e=>{let{key:t,name:a,color:r}=e;return(0,s.jsx)(u.x1,{type:"monotone",dataKey:t,name:a,stroke:r,strokeWidth:2,dot:{r:4}},t)})]})})}},49162:function(e,t,a){"use strict";a.d(t,{u:function(){return m}});var s=a(57437),r=a(91436),n=a(86810),o=a(10062),i=a(20407),l=a(78155),c=a(53250),d=a(50754);let u=["hsl(var(--primary))","hsl(var(--secondary))","#8884d8","#82ca9d","#ffc658","#ff7300"];function m(e){let{data:t,colors:a=u}=e;return(0,s.jsx)(r.h,{width:"100%",height:300,children:(0,s.jsxs)(n.u,{children:[(0,s.jsx)(o.by,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a,value:s}=e;return"".concat(t,": ").concat((100*(a||0)).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((e,t)=>(0,s.jsx)(i.b,{fill:a[t%a.length]},"cell-".concat(t)))}),(0,s.jsx)(l.u,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:e=>(0,d.xG)(e)}),(0,s.jsx)(c.D,{})]})})}},83348:function(e,t,a){"use strict";a.d(t,{i:function(){return d}});var s=a(57437),r=a(66070),n=a(35974),o=a(21047),i=a(20265),l=a(15051),c=a(47984);function d(e){let{title:t,value:a,change:d,subtitle:u,icon:m,compareValue:p,compareLabel:x="vs ano anterior"}=e;return(0,s.jsxs)(r.Zb,{children:[(0,s.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.ll,{className:"text-sm font-medium",children:t}),m&&(0,s.jsx)("div",{className:"text-muted-foreground",children:m})]}),(0,s.jsxs)(r.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:a}),void 0!==p&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[x,": ",p]}),u&&!p&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:u}),void 0!==d&&(0,s.jsxs)(n.C,{variant:"secondary",className:(0,c.cn)("mt-2 gap-1",void 0===d||0===d?"bg-gray-100 text-gray-800":d>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[void 0===d||0===d?(0,s.jsx)(o.Z,{className:"h-3 w-3"}):d>0?(0,s.jsx)(i.Z,{className:"h-3 w-3"}):(0,s.jsx)(l.Z,{className:"h-3 w-3"}),Math.abs(d).toFixed(1),"%"]})]})]})}},35974:function(e,t,a){"use strict";a.d(t,{C:function(){return i}});var s=a(57437);a(2265);var r=a(90535),n=a(47984);let o=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(o({variant:a}),t),...r})}},66070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return o},aY:function(){return d},ll:function(){return l}});var s=a(57437),r=a(2265),n=a(47984);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});o.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-2 p-6",a),...r})});i.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});l.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},26815:function(e,t,a){"use strict";a.d(t,{_:function(){return c}});var s=a(57437),r=a(2265),n=a(6394),o=a(90535),i=a(47984);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.f,{ref:t,className:(0,i.cn)(l(),a),...r})});c.displayName=n.f.displayName},93022:function(e,t,a){"use strict";a.d(t,{O:function(){return n}});var s=a(57437),r=a(47984);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...a})}},1828:function(e,t,a){"use strict";a.d(t,{r:function(){return i}});var s=a(57437),r=a(2265),n=a(11774),o=a(47984);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.fC,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(n.bU,{className:(0,o.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=n.fC.displayName},2621:function(e,t,a){"use strict";a.d(t,{FilterProvider:function(){return i},j:function(){return l}});var s=a(57437),r=a(2265),n=a(61422);let o=(0,r.createContext)(void 0);function i(e){let{children:t}=e,{startDate:a,endDate:i}=(0,n.e6)(),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(a),[m,p]=(0,r.useState)(i),[x,g]=(0,r.useState)([]),[h,v]=(0,r.useState)([]),[f,y]=(0,r.useState)(!1),[j,b]=(0,r.useState)([]),[A,N]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let e=localStorage.getItem("tribuzana_filters");if(e)try{let t=JSON.parse(e);t.selectedHotels&&c(t.selectedHotels),t.startDate&&u(t.startDate),t.endDate&&p(t.endDate),t.selectedCidades&&g(t.selectedCidades),t.selectedEstados&&v(t.selectedEstados),void 0!==t.compareYearAgo&&y(t.compareYearAgo)}catch(e){console.error("Erro ao carregar filtros salvos:",e)}},[]),(0,r.useEffect)(()=>{d&&m&&localStorage.setItem("tribuzana_filters",JSON.stringify({selectedHotels:l,startDate:d,endDate:m,selectedCidades:x,selectedEstados:h,compareYearAgo:f,selectedObjectives:j,selectedResultTypes:A}))},[l,d,m,x,h,f,j,A]),(0,s.jsx)(o.Provider,{value:{selectedHotels:l,startDate:d,endDate:m,selectedCidades:x,selectedEstados:h,compareYearAgo:f,selectedObjectives:j,selectedResultTypes:A,setSelectedHotels:c,setDateRange:(e,t)=>{u(e),p(t)},setSelectedCidades:g,setSelectedEstados:v,setCompareYearAgo:y,setSelectedObjectives:b,setSelectedResultTypes:N,resetFilters:()=>{c([]);let{startDate:e,endDate:t}=(0,n.e6)();u(e),p(t),g([]),v([]),y(!1),b([]),N([])}},children:t})}let l=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useFilterContext must be used within a FilterProvider");return e}},39596:function(e,t,a){"use strict";a.d(t,{j:function(){return o}});var s=a(2265),r=a(2621),n=a(58508);function o(e){var t,a,o,i;let l=(0,r.j)(),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!0),[p,x]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async function(){if(!l.startDate||!l.endDate){console.warn("[useMarketingAnalytics] Datas n\xe3o definidas"),m(!1);return}m(!0),x(null);try{let t={selectedHotels:l.selectedHotels,startDate:l.startDate,endDate:l.endDate,selectedCidades:l.selectedCidades,selectedEstados:l.selectedEstados,compareYearAgo:l.compareYearAgo,selectedObjectives:l.selectedObjectives,selectedResultTypes:l.selectedResultTypes};console.log("[useMarketingAnalytics] Buscando analytics com filtros:",{startDate:t.startDate,endDate:t.endDate,selectedHotels:t.selectedHotels.length});let a=await (0,n.U)(t,e);console.log("[useMarketingAnalytics] Dados recebidos:",{campaigns:a.campaigns.length,objectives:a.objectiveAnalysis.length,temporal:a.temporalData.length}),d(a)}catch(e){x(e.message||"Erro desconhecido ao buscar analytics"),console.error("[useMarketingAnalytics] Erro:",e)}finally{m(!1)}})()},[l.selectedHotels,l.startDate,l.endDate,l.selectedCidades,l.selectedEstados,l.compareYearAgo,l.selectedObjectives,l.selectedResultTypes,null==e?void 0:null===(t=e.platforms)||void 0===t?void 0:t.join(","),null==e?void 0:null===(a=e.objectives)||void 0===a?void 0:a.join(","),null==e?void 0:null===(o=e.statuses)||void 0===o?void 0:o.join(","),null==e?void 0:null===(i=e.resultTypes)||void 0===i?void 0:i.join(",")]),{data:c,loading:u,error:p}}},58508:function(e,t,a){"use strict";a.d(t,{U:function(){return n},v:function(){return r}}),a(83079);var s=a(12119),r=(0,s.$)("9d383f78b3294f7a2159cfe822dd240f3d2d2518"),n=(0,s.$)("ab8d8d4fc9c8d183fd0cec25e567119dbe4ba194")},47984:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(61994),r=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},61422:function(e,t,a){"use strict";a.d(t,{WF:function(){return p},c8:function(){return u},e6:function(){return d},f:function(){return m}});var s=a(64975),r=a(65399),n=a(65696),o=a(86035),i=a(63070),l=a(945),c=a(27742);let d=()=>{let e=new Date,t=(0,s.k)(e,1),a=(0,s.k)(t,6);return{startDate:(0,r.WU)(a,"yyyy-MM-dd"),endDate:(0,r.WU)(t,"yyyy-MM-dd")}},u=()=>{let e=new Date,t=(0,n.z)((0,s.k)(e,7),{weekStartsOn:0}),a=(0,o.v)((0,s.k)(e,7),{weekStartsOn:0});return{startDate:(0,r.WU)(t,"yyyy-MM-dd"),endDate:(0,r.WU)(a,"yyyy-MM-dd")}},m=()=>{let e=new Date,t=(0,s.k)(e,1),a=(0,i.N)(e);return{startDate:(0,r.WU)(a,"yyyy-MM-dd"),endDate:(0,r.WU)(t,"yyyy-MM-dd")}},p=()=>{let e=(0,l.W)(new Date,1),t=(0,i.N)(e),a=(0,c.V)(e);return{startDate:(0,r.WU)(t,"yyyy-MM-dd"),endDate:(0,r.WU)(a,"yyyy-MM-dd")}}},50754:function(e,t,a){"use strict";a.d(t,{p6:function(){return o},rl:function(){return n},uf:function(){return r},xG:function(){return s}});let s=e=>null==e?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),r=e=>null==e?"0":new Intl.NumberFormat("pt-BR").format(e),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return null==e?"0%":"".concat(e.toFixed(t),"%")},o=e=>{let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("pt-BR").format(t)}},63639:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},15051:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},20265:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},95252:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},42208:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},21047:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},28921:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]])},16275:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},6741:function(e,t,a){"use strict";function s(e,t,{checkForDefaultPrevented:a=!0}={}){return function(s){if(e?.(s),!1===a||!s.defaultPrevented)return t?.(s)}}a.d(t,{Mj:function(){return s}}),"undefined"!=typeof window&&window.document&&window.document.createElement},98575:function(e,t,a){"use strict";a.d(t,{F:function(){return n},e:function(){return o}});var s=a(2265);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let a=!1,s=e.map(e=>{let s=r(e,t);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let t=0;t<s.length;t++){let a=s[t];"function"==typeof a?a():r(e[t],null)}}}}function o(...e){return s.useCallback(n(...e),e)}},80886:function(e,t,a){"use strict";a.d(t,{T:function(){return i}});var s,r=a(2265),n=a(61188),o=(s||(s=a.t(r,2)))[" useInsertionEffect ".trim().toString()]||n.b;function i({prop:e,defaultProp:t,onChange:a=()=>{},caller:s}){let[n,i,l]=function({defaultProp:e,onChange:t}){let[a,s]=r.useState(e),n=r.useRef(a),i=r.useRef(t);return o(()=>{i.current=t},[t]),r.useEffect(()=>{n.current!==a&&(i.current?.(a),n.current=a)},[a,n]),[a,s,i]}({defaultProp:t,onChange:a}),c=void 0!==e,d=c?e:n;{let t=r.useRef(void 0!==e);r.useEffect(()=>{let e=t.current;if(e!==c){let t=c?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=c},[c,s])}return[d,r.useCallback(t=>{if(c){let a="function"==typeof t?t(e):t;a!==e&&l.current?.(a)}else i(t)},[c,e,i,l])]}Symbol("RADIX:SYNC_STATE")},61188:function(e,t,a){"use strict";a.d(t,{b:function(){return r}});var s=a(2265),r=globalThis?.document?s.useLayoutEffect:()=>{}}},function(e){e.O(0,[554,434,189,158,354,971,117,744],function(){return e(e.s=1490)}),_N_E=e.O()}]);